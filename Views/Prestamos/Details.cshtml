@model Prestamo
@using System.Globalization

@{
    ViewData["Title"] = "Detalle del Préstamo";
    var usCulture = new CultureInfo("en-US");
}

<h2>Detalle del Préstamo</h2>

<hr />

<h4>Resumen</h4>
<table class="table table-bordered">
    <tr>
        <th>Monto</th>
        <td>@Model.Cantidad.ToString("C", usCulture)</td>
    </tr>
    <tr>
        <th>Meses</th>
        <td>@Model.Meses</td>
    </tr>
    <tr>
        <th>Tasa Mensual</th>
        <td>@($"{Model.TasaMensual * 100:F2}%")</td>
    </tr>
    <tr>
        <th>Comisión</th>
        <td>@Model.Comision.ToString("C", usCulture)</td>
    </tr>
    <tr>
        <th>Pago Mensual</th>
        <td>@Model.PagoMensual.ToString("C", usCulture)</td>
    </tr>
</table>

<hr />

<h4>Calendario de Amortización</h4>

<table class="table table-striped table-bordered">
    <thead class="table-dark">
        <tr>
            <th>Mes</th>
            <th>Cuota</th>
            <th>Interés</th>
            <th>Amortización</th>
            <th>Saldo Pendiente</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model.Calendario)
        {
            <tr>
                <td>@item.NumeroMes</td>
                <td>@item.Cuota.ToString("C", usCulture)</td>
                <td>@item.Interes.ToString("C", usCulture)</td>
                <td>@item.Amortizacion.ToString("C", usCulture)</td>
                <td>@item.SaldoPendiente.ToString("C", usCulture)</td>
            </tr>
        }
    </tbody>
</table>

<p>Tasa cruda: @Model.TasaMensual</p>

<a asp-action="Create" class="btn btn-success">
    Nuevo Préstamo
</a>
